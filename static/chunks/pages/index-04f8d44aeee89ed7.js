(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3393)}])},3393:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var i=t(5893),d=t(2729),s=t.n(d),a=t(5675),c=t.n(a),r=t(4740),l=t(8132),o=t(5678);t(1399);var _={src:"/_next/static/media/icon-menu.eda71a76.svg",height:18,width:30,blurWidth:0,blurHeight:0},u=t(150),m={src:"/_next/static/media/icon-delete.9b333ac3.svg",height:20,width:18,blurWidth:0,blurHeight:0},h={src:"/_next/static/media/icon-save.648f2352.svg",height:17,width:17,blurWidth:0,blurHeight:0},v={src:"/_next/static/media/icon-show-preview.80cd1c34.svg",height:12,width:16,blurWidth:0,blurHeight:0},x=t(7294);let w=e=>{let{setLeftNav:n,doc_content:t,leftNav:d,fetchDocs:a,docId:w,loaded:N,setLoaded:p,setDocId:f,doc_name:g,newFile:j,setNewFile:b,setDoc_name:k}=e;l.h.example.hello.useQuery({text:"from tRPC"});let[C,E]=(0,x.useState)(""),[D,y]=(0,x.useState)(!1),[P,S]=(0,x.useState)(!1),[W,H]=(0,x.useState)("welcome.md"),{data:A}=l.h.document.viewSingleDoc.useQuery({docName:g}),M=l.h.document.createDoc.useMutation({onSuccess:()=>{a(),p(!N)},onError:()=>j||void(0,o.Am)("File Already Exists")}),R=l.h.document.updateDoc.useMutation({onSuccess:()=>{a()}}),O=l.h.document.deleteDoc.useMutation({onSuccess:()=>{a(),f(5)}});return(0,x.useEffect)(()=>{j||(H(null==A?void 0:A.document_name),E(null==A?void 0:A.document_content),p(!0))},[A]),(0,x.useEffect)(()=>{H(g),E(t),p(!0)},[j]),(0,i.jsxs)("div",{className:s().container,children:[(0,i.jsxs)("nav",{className:s().nav,children:[(0,i.jsxs)("div",{className:s().left_nav,children:[(0,i.jsx)("div",{className:s().hamburger,style:{cursor:"pointer"},onClick:()=>n(!d),children:(0,i.jsx)(c(),{src:_,width:38,height:18,alt:"menu"})}),(0,i.jsx)("div",{className:s().title,children:"MARKDOWN"}),(0,i.jsx)("hr",{}),(0,i.jsxs)("div",{className:s().current_doc,children:[(0,i.jsx)(c(),{src:u.Z,width:13,height:16,alt:"doc"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:s().header,children:"Document Name"}),(0,i.jsx)("input",{className:s().text,value:W,onChange:e=>H(e.target.value)})]})]})]}),"welcome.md"!==W&&(0,i.jsxs)("div",{className:s().right_nav,children:[(0,i.jsx)(c(),{src:m,width:18,height:20,alt:"delete",onClick:()=>S(!0)}),(0,i.jsxs)("div",{className:s().save_button,onClick:function(){W===(null==A?void 0:A.document_name)&&R.mutate({docName:W,docContent:C}),W!==(null==A?void 0:A.document_name)&&M.mutate({documentName:W,documentContent:C}),j&&M.mutate({documentName:W,documentContent:C}),b(!1)},children:[(0,i.jsx)(c(),{src:h,width:18,height:20,alt:"save"}),(0,i.jsx)("div",{className:s().text,children:"Save Changes"})]})]}),P&&(0,i.jsxs)("div",{className:s().menuPopup,children:[(0,i.jsx)("div",{className:s().background,onClick:()=>S(!1)}),(0,i.jsxs)("div",{className:s().popup,children:[(0,i.jsx)("div",{className:s().title,children:"Delete this document?"}),(0,i.jsxs)("div",{className:s().text,children:['Are you sure you want to delete the "',W,'" document and its contents? This action cannot be reversed.']}),(0,i.jsx)("div",{className:s().save_button,onClick:function(){O.mutate({id:w}),k("welcome.md")},children:"Confirm & Delete"})]})]})]}),(0,i.jsxs)("section",{children:[(0,i.jsxs)("div",{className:"".concat(s().markdown," ").concat(D&&s().markdownHidden),children:[(0,i.jsx)("div",{className:s().title,children:"MARKDOWN"}),(0,i.jsx)("div",{className:s().markdown_field,children:(0,i.jsx)("textarea",{value:C,onChange:e=>E(e.target.value),className:s().inner_markdown_field})})]}),(0,i.jsxs)("div",{className:s().preview,children:[(0,i.jsxs)("div",{className:s().title,style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)("div",{children:"PREVIEW"})," ",(0,i.jsx)(c(),{onClick:()=>y(!D),src:v,width:16,height:11,alt:"prev"})]}),(0,i.jsx)("div",{className:s().preview_field,children:(0,i.jsx)(r.D,{className:s().inner_preview_field,children:C})})]})]})]})};var N=w},2729:function(e){e.exports={nav:"index_nav__adxDb",current_doc:"index_current_doc__ikcbN",text:"index_text__pZwGi",menuPopup:"index_menuPopup__DPvWJ",background:"index_background__ndsbC",popup:"index_popup__MzYva",title:"index_title__gEapU",container:"index_container__gnN1f",preview:"index_preview__bw2nt",markdownHidden:"index_markdownHidden__xoLWB",inner_markdown_field:"index_inner_markdown_field__m2BpT",markdown_field:"index_markdown_field__8PNdK",inner_preview_field:"index_inner_preview_field__ALiH3",preview_field:"index_preview_field__RQlN7",left_nav:"index_left_nav__4mgNC",hamburger:"index_hamburger__1tc_E",header:"index_header__A7Bm0",right_nav:"index_right_nav__08e1G",save_button:"index_save_button__64aqg",markdown:"index_markdown__akjqj"}}},function(e){e.O(0,[636,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);